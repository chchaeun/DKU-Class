<!DOCTYPE html>
<html>
<head>
<title>눈 내리는 샤갈의 마을</title>
<style>
    .town{
        width: 800px;
    }
    .snow{
        width: 20px;
        position: absolute;
    }
</style>
</head>

<script>
    function snowDown(snow){
        const str = snow.style.top
        const px = parseInt(str.split('px')[0])+1
        snow.style.top = `${px}px`
    }
    function snowing(){
        const container = document.querySelector(".container")
        const random = Math.floor(Math.random()*750 + 5)
        const div = document.createElement("div")
        div.innerHTML = "<img src='눈송이.png' class='snow' style='top:10px; left:10px'/>"
        const snow = div.querySelector("img")
        container.appendChild(snow)
        snow.style.left = `${random}px`
        const interval = setInterval(()=>{
            snowDown(snow) 
            if(snow.style.top == '510px'){
                clearInterval(interval)
                snow.style.visibility = 'hidden'
            }
        }, 50)
    }
    for(let i=0; i<30; i++){
        setTimeout(snowing, i*3000)
    }
</script>
<body>
    <div class="container">
    <img class="town" src="눈내리는마을.jpeg"/>
    </div>
</body>
</html>